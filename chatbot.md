# 고객지원 상담 챗봇 구현 가이드 (Vercel AI SDK UI 기반)

## 1. 개요

이 문서는 **Vercel AI SDK UI**의 `useChat` 및 Tool 기능을 활용하여
**고객지원 상담 챗봇**을 구현하는 방법을 정리한 가이드입니다.

고객센터 챗봇에서는 다음과 같은 시나리오가 일반적입니다:
- 사용자의 문의를 실시간으로 접수
- AI가 즉시 응답하거나, 필요한 경우 내부 시스템(FAQ DB, CRM, 배송조회 API 등)과 연동
- 추가 정보(주문번호, 연락처, 첨부파일 등)를 요청
- 상담원이 개입할 수 있도록 기록 및 상태 관리

---

## 2. `useChat` 훅을 활용한 상담 UI

`useChat` 훅은 상담 대화의 전송, 상태, 에러, 스트리밍 응답을 자동으로 관리해줍니다.

### 주요 기능
- **실시간 스트리밍**: AI 답변이 입력되는 대로 사용자 화면에 표시
- **자동 상태 관리**: 
  - 로딩 중(답변 생성 중)
  - 에러 발생 시 메시지 표시
  - 답변 재생성, 취소
- **메시지 수정/삭제**: 사용자가 잘못 입력한 문의를 수정하거나 삭제 가능

### 고객지원 챗봇 활용 예
- 로딩 중: “상담원이 답변을 준비 중입니다...” 메시지 표시
- 재요청: “다른 표현으로 설명해주세요” 버튼 제공
- 상태별 UI: 상담 진행 중/완료/대기 상태 뱃지 표시

---

## 3. Tool 기능으로 내부 시스템 연동

고객지원 챗봇은 단순 텍스트 응답 외에도 **내부 API와의 연동**이 필수입니다.  
AI SDK의 Tool 기능을 사용하면 이러한 연동을 구조적으로 구현할 수 있습니다.

### 예시 Tool 시나리오
1. **배송 조회 도구**  
   - 입력: 주문번호  
   - 실행: 배송 API 호출  
   - 출력: 현재 배송 상태 (예: “배송중”, “배송완료”)
   
2. **FAQ 검색 도구**  
   - 입력: 사용자의 질문  
   - 실행: 사내 FAQ DB 검색  
   - 출력: 관련 답변 리스트

3. **상담원 연결 요청 도구**  
   - 입력: 요청 사유, 고객 연락처  
   - 실행: CRM에 상담 티켓 생성  
   - 출력: 상담원 연결 대기 메시지

---

## 4. Tool 동작 흐름

1. 사용자가 문의 입력
2. AI가 Tool 호출 필요 여부 판단
3. 필요한 경우 Tool 실행 요청 생성
4. 서버(API Route)에서 실제 도구 실행
5. 결과를 AI 응답에 포함시켜 사용자에게 표시
6. 추가 정보가 필요하면 챗봇이 다시 질문

---

## 5. 고객지원에 특화된 UX 팁

- **명확한 상태 피드백**: 로딩, 상담원 연결, 추가 정보 요청을 시각적으로 구분
- **대화 이력 저장**: Supabase 등 DB에 저장하여 상담 이력 관리
- **파일 첨부 지원**: 사용자가 영수증, 사진 등을 업로드 가능하게 구현
- **다국어 지원**: 해외 고객 대응을 위해 `language` 파라미터를 사용해 AI 언어 설정
- **보안 처리**: 주문번호, 연락처 등 개인정보는 서버 측에서만 처리

---

## 6. 구현 구조 예시 (Next.js App Router)

app/
api/
chat/route.ts # useChat 훅과 연결되는 API, Tool 실행 로직 포함
support/
page.tsx # 고객지원 챗봇 UI 페이지
components/
ChatWindow.tsx # 메시지 목록, 입력창, 상태 표시
MessageBubble.tsx # 메시지 UI 컴포넌트

yaml
복사

---

## 7. 마무리

이 구조를 사용하면:
- 고객 질문에 AI가 바로 응답
- 필요한 경우 배송 조회, FAQ 검색, 상담원 연결까지 자동 처리
- 상담원이 대화 이력을 보고 이어서 응대 가능

**Vercel AI SDK UI**는 상담 챗봇의 UI와 내부 연동을 모두 빠르게 구축할 수 있는 훌륭한 도구입니다.